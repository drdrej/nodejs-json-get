<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: impl/json.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: impl/json.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * creates a wrapper to work with complex json-structures.
 *
 * @param object
 * @author A. Siebert, ask@touchableheroes.com
 */


/**
 * default empty-query object.
 *
 * @type {{select: select}}
 */
var DEFAULT_NOOP_QUERY = {
    select : function( inputQuery ) {
        console.log( "[## SKIP] query: " + inputQuery);
        return;
    }
};


var Pipe = require( './Pipe.js').Pipe;

var _ = require('underscore');


var createStream = function( json ) {
    var  streams = require( 'event-stream' );
    var isObject = require('./asserts/isObject').check;

    if( isObject(json, "Couldn't query an object-structure.") ) {
        return streams.readArray( [json] );
    }

    if( _.isArray(json) ) {
        return streams.readArray( json );
    }

    throw "UNSUPPORTED TYPE OF OBJECT: " + json;

};

exports.query =  function (json, options) {
    if(_.isNull(json) ) {
        throw "PASSED OBJECT is NULL! Skip pipe.";
    }

    var stream = createStream( json );

    return new Pipe(stream, options);
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Global</h3><ul><li><a href="global.html#asText">asText</a></li><li><a href="global.html#DEFAULT_NOOP_QUERY">DEFAULT_NOOP_QUERY</a></li><li><a href="global.html#json">json</a></li><li><a href="global.html#query">query</a></li><li><a href="global.html#selectable">selectable</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Thu Jul 03 2014 15:09:21 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
